<Window x:Class="OverlayPlayer.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Overlay Player - Settings" Height="600" Width="450"
        WindowStartupLocation="CenterScreen"
        Background="Transparent"
        WindowStyle="None"
        AllowsTransparency="True">
    <Border Background="White" CornerRadius="15" BorderBrush="#E0E0E0" BorderThickness="1">
        <Grid Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Header -->
            <DockPanel Grid.Row="0" Margin="0,0,0,20">
                <TextBlock Name="TitleText" Text="Ayarlar" FontSize="24" FontWeight="Bold" Foreground="#333333" VerticalAlignment="Center"/>
                <Button Content="✕" Click="Close_Click" HorizontalAlignment="Right" Background="Transparent" BorderThickness="0" FontSize="20" Foreground="#999999" Cursor="Hand" Padding="5">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Background" Value="Transparent"/>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Foreground" Value="#FF0000"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                </Button>
            </DockPanel>

            <!-- Scrollable Content -->
            <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" MaxHeight="450">
                <StackPanel>
                    
                    <!-- Language -->
                    <GroupBox Header="Dil / Language" Margin="0,5">
                        <ComboBox Name="LangCombo" SelectionChanged="LangCombo_SelectionChanged" Margin="5">
                            <ComboBoxItem Content="English" Tag="en"/>
                            <ComboBoxItem Content="Türkçe" Tag="tr"/>
                        </ComboBox>
                    </GroupBox>

                    <!-- Appearance -->
                    <GroupBox Name="AppearanceGroup" Header="Görünüm" Margin="0,5">
                        <StackPanel Margin="5">
                            <TextBlock Name="OpacityText" Text="Saydamlık" Margin="0,5,0,2"/>
                            <Slider Name="OpacitySlider" Minimum="0.1" Maximum="1.0" 
                                    Thumb.DragStarted="Slider_DragStarted" 
                                    Thumb.DragCompleted="OpacitySlider_DragCompleted"
                                    IsSnapToTickEnabled="True" TickFrequency="0.1" SmallChange="0.1" LargeChange="0.1"/>
                            
                            <TextBlock Name="SizeText" Text="Boyut" Margin="0,10,0,2"/>
                            <Slider Name="SizeSlider" Minimum="100" Maximum="1000" 
                                    Thumb.DragStarted="Slider_DragStarted" 
                                    Thumb.DragCompleted="SizeSlider_DragCompleted"
                                    IsSnapToTickEnabled="True" TickFrequency="50" SmallChange="50" LargeChange="100"/>
                            
                            <CheckBox Name="AspectRatioCheck" Content="En-Boy Oranını Koru" Margin="0,10,0,0" Checked="AspectRatioCheck_Changed" Unchecked="AspectRatioCheck_Changed"/>
                        </StackPanel>
                    </GroupBox>

                    <!-- Interaction -->
                    <GroupBox Name="InteractionGroup" Header="Etkileşim" Margin="0,5">
                        <StackPanel Margin="5">
                            <CheckBox Name="InteractiveCheck" Content="Konumu Değiştir" Margin="0,5" Checked="InteractiveCheck_Changed" Unchecked="InteractiveCheck_Changed"/>
                            <CheckBox Name="AutoStartCheck" Content="Başlangıçta Çalıştır" Margin="0,5" Checked="AutoStartCheck_Changed" Unchecked="AutoStartCheck_Changed"/>
                        </StackPanel>
                    </GroupBox>

                    <!-- Sound -->
                    <GroupBox Name="SoundGroup" Header="Ses" Margin="0,5">
                        <StackPanel Margin="5">
                            <CheckBox Name="MuteCheck" Content="Sesi Kapat" Margin="0,5" Checked="MuteCheck_Changed" Unchecked="MuteCheck_Changed"/>
                            <TextBlock Name="VolumeText" Text="Ses Seviyesi" Margin="0,5,0,2"/>
                            <Slider Name="VolumeSlider" Minimum="0" Maximum="1.0" 
                                    Thumb.DragStarted="Slider_DragStarted" 
                                    Thumb.DragCompleted="VolumeSlider_DragCompleted"
                                    IsSnapToTickEnabled="True" TickFrequency="0.1" SmallChange="0.1" LargeChange="0.1"/>
                        </StackPanel>
                    </GroupBox>

                    <!-- Z-Order -->
                    <GroupBox Name="LayersGroup" Header="Katman" Margin="0,5">
                        <StackPanel Margin="5">
                            <RadioButton Name="TopmostRadio" Content="Her Zaman Üstte" GroupName="ZOrder" Checked="ZOrder_Changed"/>
                            <RadioButton Name="WallpaperRadio" Content="Arka Plan Modu" GroupName="ZOrder" Checked="ZOrder_Changed"/>
                            <RadioButton Name="NormalRadio" Content="Normal" GroupName="ZOrder" Checked="ZOrder_Changed"/>
                        </StackPanel>
                    </GroupBox>

                    <!-- Giphy Settings -->
                    <GroupBox Name="GiphyGroup" Header="Giphy Ayarları / Giphy Settings" Margin="0,5">
                        <StackPanel Margin="5">
                            <TextBlock Name="GiphyApiKeyText" Text="Giphy API Anahtarı" Margin="0,5,0,2"/>
                            <PasswordBox Name="GiphyApiKeyBox" PasswordChanged="GiphyApiKeyBox_PasswordChanged" Margin="0,0,0,5" Padding="5"/>
                            <TextBlock Name="GiphyLinkText" Text="https://developers.giphy.com/" Foreground="#007AFF" FontSize="10" Cursor="Hand" MouseLeftButtonUp="GiphyLink_Click"/>
                        </StackPanel>
                    </GroupBox>

                    <!-- Slideshow -->
                    <GroupBox Name="SlideshowGroup" Header="Slayt Gösterisi" Margin="0,5">
                        <StackPanel Margin="5">
                            <CheckBox Name="SlideshowCheck" Content="Slayt Gösterisini Etkinleştir" Margin="0,5" Checked="SlideshowCheck_Changed" Unchecked="SlideshowCheck_Changed"/>
                            <TextBlock Name="IntervalText" Text="Geçiş Süresi (Saniye)" Margin="0,5,0,2"/>
                            <ComboBox Name="IntervalCombo" SelectionChanged="IntervalCombo_SelectionChanged" Margin="5">
                                <ComboBoxItem Content="5" Tag="5"/>
                                <ComboBoxItem Content="10" Tag="10"/>
                                <ComboBoxItem Content="30" Tag="30"/>
                                <ComboBoxItem Content="60" Tag="60"/>
                            </ComboBox>
                        </StackPanel>
                    </GroupBox>


                    
                </StackPanel>
            </ScrollViewer>

            <!-- Footer -->
            <Grid Grid.Row="2" Margin="0,15,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <TextBlock Grid.Column="0" Text="v2.2.0" Foreground="#999999" VerticalAlignment="Center"/>

                <Button Name="ResetButton" Grid.Column="1" Content="Varsayılana Sıfırla / Reset Defaults" Click="Reset_Click" 
                        HorizontalAlignment="Right" Padding="15,10" Background="Transparent" Foreground="#FF3B30" 
                        BorderThickness="1" BorderBrush="#FF3B30" FontWeight="SemiBold" Cursor="Hand">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Background" Value="Transparent"/>
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}"
                                                CornerRadius="8" Padding="{TemplateBinding Padding}">
                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#FFF0F0"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                </Button>
            </Grid>
        </Grid>
    </Border>
</Window>
